import React, { Suspense, lazy, FC, useEffect } from "react";
import { Toaster } from "@/components/ui/sonner";
import { TooltipProvider } from "@/components/ui/tooltip";
import NotFound from "@/pages/NotFound";
import { Route, Switch, useLocation } from "wouter";
import ErrorBoundary from "./components/ErrorBoundary";
import { ThemeProvider } from "./contexts/ThemeContext";
import { useAuth } from "./_core/hooks/useAuth";
import { Loader2 } from "lucide-react";

/**
 * Lazy-load pages to improve initial bundle size.
 * Ensure each page has a default export.
 */
const Home = lazy(() => import("./pages/Home"));
const PlayerDashboard = lazy(() => import("./pages/PlayerDashboard"));
const AdvancedQRCode = lazy(() => import("./components
